<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="BuildingBase">
	<defName>WVC_XenotypesAndGenes_WalkingCorpseTotem</defName>
	<label>walking corpse totem</label>
	<description>A totem made from the rotten remains of various creatures. The only thing that holds these remains together is a resurgent fungus that has settled in rotten bones.

A rapidly mutating, resurgent fungus is poisoning the soil beneath it and spreading to ancient animal bones underground. Bones infected with this fungus rise like walking corpses.

This creepy organism obeys the local owner of the "Resurgent spores" gene, forming a stable psychic bond.

&lt;color=#f5ffa2&gt;Gameplay Effect:&lt;/color&gt; From time to time, the totem raises walking corpses, the number of walking corpses depends on the number of totems. The base amount is 4, each totem increases the limit by 1. If the limit is exceeded as a result of the destruction of totems, then it will not affect existing walking corpses in any way.

Totems also spread pollution from time to time.</description>
	<descriptionHyperlinks>
	  <ThingDef>WVC_Plant_TreeResurgent</ThingDef>
	  <ThingDef>WVC_XenotypesAndGenes_ResurgentSporesSkeleton</ThingDef>
	  <ThingDef>WVC_XenotypesAndGenes_ResurgentSporesBonepile</ThingDef>
	</descriptionHyperlinks>
	<soundImpactDefault>MeleeHit_Wood</soundImpactDefault>
	<statBases>
	  <MaxHitPoints>30</MaxHitPoints>
	  <WorkToBuild>750</WorkToBuild>
	  <Mass>10</Mass>
	  <Flammability>0.2</Flammability>
	  <Beauty>1</Beauty>
	  <StyleDominance MayRequire="Ludeon.RimWorld.Ideology">10</StyleDominance>
	</statBases>
	<graphicData>
	  <drawOffset>(0,0,0.2)</drawOffset>
	  <texPath>WVC/Things/XaG_Buildings/WalkingCorpseTotem</texPath>
	  <graphicClass>Graphic_Random</graphicClass>
	  <shaderType>CutoutComplex</shaderType>
	  <drawSize>(1.2,1.2)</drawSize>
	  <color>(195,195,195)</color>
	  <!-- <color>(5,5,5)</color> -->
	  <!-- <colorTwo>(5,5,5)</colorTwo> -->
	  <drawRotated>false</drawRotated>
	  <allowFlip>true</allowFlip>
	  <shadowData>
		<volume>(0.3, 0.5, 0.3)</volume>
		<offset>(0,0,-0.23)</offset>
	  </shadowData>
	  <damageData>
		<rect>(0.2,0.2,0.6,0.6)</rect>
	  </damageData>
	</graphicData>
	<!-- <uiOrder>2040</uiOrder> -->
	<altitudeLayer>Building</altitudeLayer>
	<passability>PassThroughOnly</passability>
	<fillPercent>0.15</fillPercent>
	<pathCost>0.35</pathCost>
	<!-- <tickerType>Rare</tickerType> -->
	<tickerType>Long</tickerType>
	<costList>
	  <WVC_RawResurgentFungus>5</WVC_RawResurgentFungus>
	  <!-- <ComponentSpacer>1</ComponentSpacer> -->
	</costList>
	<designationCategory></designationCategory>
	<!-- <designationCategory>Power</designationCategory> -->
	<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
	<!-- <stuffCategories> -->
	  <!-- <li>Metallic</li> -->
	  <!-- <li>Woody</li> -->
	  <!-- <li>Stony</li> -->
	<!-- </stuffCategories> -->
	<!-- <costStuffCount>20</costStuffCount> -->
	<!-- <holdsRoof>true</holdsRoof> -->
	<canOverlapZones>false</canOverlapZones>
	<rotatable>false</rotatable>
	<!-- <fertility>0</fertility> -->
	<specialDisplayRadius>5.9</specialDisplayRadius>
	<building>
	  <destroySound>Harvest_Tree_Finish</destroySound>
	  <isInert>true</isInert>
	  <ai_chillDestination>false</ai_chillDestination>
	  <paintable>true</paintable>
	  <deconstructible>true</deconstructible>
	  <alwaysDeconstructible>true</alwaysDeconstructible>
	  <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
	  <claimable>false</claimable>
	</building>
	<comps>
	  <!-- <li Class="WVC_XenotypesAndGenes.CompProperties_HiveSpawnAnimals"> -->
		<!-- <ticksBetweenSpawn>60000~300000</ticksBetweenSpawn> -->
		<!-- <maxLivingThings>20</maxLivingThings> -->
		<!-- <maxNumberOfSpawns>5</maxNumberOfSpawns> -->
		<!-- <pawnsList> -->
		  <!-- <li>WVC_XenotypesAndGenes_WalkingCorpse</li> -->
		  <!-- <li>WVC_XenotypesAndGenes_WalkingSkeleton</li> -->
		<!-- </pawnsList> -->
	  <!-- </li> -->
	  <li Class="WVC_XenotypesAndGenes.CompProperties_WalkingCorpsesSpawner">
		<ticksBetweenSpawn>60000~600000</ticksBetweenSpawn>
		<filthDef>Filth_CorpseBile</filthDef>
		<summonsList>
		  <li>WVC_XenotypesAndGenes_ResurgentSporesSkeleton</li>
		  <li>WVC_XenotypesAndGenes_ResurgentSporesBonepile</li>
		</summonsList>
	  </li>
	  <li Class="WVC_XenotypesAndGenes.CompProperties_Toxifier">
		<pollutionIntervalTicks>360000~720000</pollutionIntervalTicks>
		<cellsToPollute>3</cellsToPollute>
	  </li>
	  <li Class="CompProperties_Styleable" />
	  <li Class="WVC_XenotypesAndGenes.CompProperties_RandomName">
		<nameMaker>WVC_XenotypesAndGenes_TotemNames</nameMaker>
	  </li>
	</comps>
  </ThingDef>

  <ThingDef ParentName="TreeBase">
	<defName>WVC_Plant_TreeResurgent</defName>
	<label>resurgent tree</label>
	<description>Created by a series of complex mutations, the resurgent tree coexists in symbiosis with the resurgent fungus. While the tree protects the fungus from external influences, the fungus helps nourish the roots of the tree with nutrients. As a result of this symbiosis, the surrounding soil is poisoned with toxic substances.

The fungus, deep in the roots of the tree, slowly infects the ancient remains, animating them in order to spread. Such active distribution greatly harms the ecosystem, and walking corpses attacking animals only accelerate extinction.

&lt;color=#f5ffa2&gt;Gameplay Effect:&lt;/color&gt; The tree will spawn walking corpses every few days. The limit on walking corpses for trees and totems is different.

The tree also pollutes the environment every few days.

If a settlement has a pawn with the "Resurgent spores" gene, then the tree will spawn a baby once a year, which will inherit the genes of one of these settlers.</description>
	<descriptionHyperlinks>
	  <ThingDef>WVC_XenotypesAndGenes_WalkingCorpseTotem</ThingDef>
	  <GeneDef>WVC_ResurgentCells_AbilitySpawn_ResurgentTree</GeneDef>
	  <ThingDef>WVC_XenotypesAndGenes_ResurgentSporesSkeleton</ThingDef>
	  <ThingDef>WVC_XenotypesAndGenes_ResurgentSporesBonepile</ThingDef>
	</descriptionHyperlinks>
	<graphicData>
	  <!-- <drawOffset>(0,0.5,0)</drawOffset> -->
	  <texPath>WVC/Things/XaG_Buildings/ResurgentTree</texPath>
	  <graphicClass>Graphic_Random</graphicClass>
	  <!-- <shadowData> -->
		<!-- <volume>(0.35, 0.3, 0.35)</volume> -->
		<!-- <offset>(0,0,0.05)</offset> -->
	  <!-- </shadowData> -->
	</graphicData>
	<tickerType>Long</tickerType>
	<!-- <minifiedDef IsNull="True" /> -->
	<statBases>
	  <Beauty>6</Beauty>
	  <BeautyOutdoors>6</BeautyOutdoors>
	  <Flammability>0.5</Flammability>
	  <MaxHitPoints>300</MaxHitPoints>
	</statBases>
	<ingestible />
	<preventSkyfallersLandingOn>true</preventSkyfallersLandingOn>
	<canScatterOver>false</canScatterOver>
	<specialDisplayRadius>8.9</specialDisplayRadius>
	<plant>
	  <interferesWithRoof>false</interferesWithRoof>
	  <growMinGlow>0</growMinGlow>
	  <pollution>Any</pollution>
	  <growDays>10</growDays>
	  <visualSizeRange>1.5~2.1</visualSizeRange>
	  <!-- <visualSizeRange>1.5~3.1</visualSizeRange> -->
	  <sowMinSkill>0</sowMinSkill>
	  <sowTags Inherit="False"/>
	  <lifespanDaysPerGrowDays>0</lifespanDaysPerGrowDays>
	  <fertilityMin>0.05</fertilityMin>
	  <fertilitySensitivity>0</fertilitySensitivity>
	  <wildClusterWeight>0</wildClusterWeight>
	  <sowWork>400</sowWork>
	  <harvestYield>30</harvestYield>
	  <treeCategory>Super</treeCategory>
	  <dieIfNoSunlight>false</dieIfNoSunlight>
	  <sowResearchPrerequisites Inherit="False" />
	  <dieFromToxicFallout>False</dieFromToxicFallout>
	  <showGrowthInInspectPane>false</showGrowthInInspectPane>
	  <minSpacingBetweenSamePlant>4.9</minSpacingBetweenSamePlant>
	  <warnIfMarkedForCut>true</warnIfMarkedForCut>
	  <harvestWork>1000</harvestWork>
	  <choppedThingDef>ChoppedStump_Polluted</choppedThingDef>
	  <smashedThingDef>SmashedStump_Polluted</smashedThingDef>
	</plant>
	<comps>
	  <li Class="CompProperties_SelfhealHitpoints">
		<ticksPerHeal>2000</ticksPerHeal> <!-- 30 hp per day, must be a multiple of 2000, since plants have Long ticker -->
	  </li>
	  <li Class="WVC_XenotypesAndGenes.CompProperties_WalkingCorpsesSpawner">
		<ticksBetweenSpawn>120000~900000</ticksBetweenSpawn>
		<filthDef>Filth_CorpseBile</filthDef>
		<summonsList>
		  <li>WVC_XenotypesAndGenes_ResurgentSporesSkeleton</li>
		  <li>WVC_XenotypesAndGenes_ResurgentSporesBonepile</li>
		</summonsList>
	  </li>
	  <li Class="WVC_XenotypesAndGenes.CompProperties_Toxifier">
		<pollutionIntervalTicks>360000~720000</pollutionIntervalTicks>
		<cellsToPollute>6</cellsToPollute>
		<radius>8.9</radius>
	  </li>
	  <li Class="CompProperties_Glower">
		<glowRadius>3.5</glowRadius>
		<glowColor>(189,205,255, 0)</glowColor>
	  </li>
	  <li Class="WVC_XenotypesAndGenes.CompProperties_SpawnBabyPawnAndInheritGenes">
		<ticksBetweenSpawn>2400000~3600000</ticksBetweenSpawn>
		<geneDef>WVC_ResurgentCells_AbilitySpawn_ResurgentTree</geneDef>
	  </li>
	</comps>
  </ThingDef>

</Defs>