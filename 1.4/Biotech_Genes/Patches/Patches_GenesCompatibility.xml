<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationAdd">
	  <xpath>/Defs/TraderKindDef/stockGenerators[li[thingDef="Genepack"]]</xpath>
	  <value>
		  <!-- <li MayRequire="Ludeon.RimWorld.Biotech" Class="StockGenerator_SingleDef"> -->
			<!-- <thingDef>WVC_Genepack</thingDef> -->
			<!-- <countRange>0~3</countRange> -->
		  <!-- </li> -->
		  <!-- <li MayRequire="Ludeon.RimWorld.Biotech" Class="StockGenerator_SingleDef"> -->
			<!-- <thingDef>WVC_UltraGenepack</thingDef> -->
			<!-- <countRange>0~3</countRange> -->
		  <!-- </li> -->
		  <!-- <li MayRequire="Ludeon.RimWorld.Biotech" Class="StockGenerator_SingleDef"> -->
			<!-- <thingDef>WVC_MechaGenepack</thingDef> -->
			<!-- <countRange>0~3</countRange> -->
		  <!-- </li> -->
		  <li Class="StockGenerator_Tag">
			<tradeTag>WVC_GenePacks</tradeTag>
			<thingDefCountRange>0~3</thingDefCountRange>
			<countRange>1~1</countRange>
		  </li>
		  <li Class="StockGenerator_Tag">
			<tradeTag>WVC_XenotypeSerums_NonCraftable</tradeTag>
			<thingDefCountRange>0~2</thingDefCountRange>
			<countRange>1~1</countRange>
		  </li>
	  </value>
	</Operation>

	<!-- <Operation Class="PatchOperationAdd"> -->
	  <!-- <xpath>/Defs/FactionDef/caravanTraderKinds[li="Caravan_Outlander_Exotic"]</xpath> -->
	  <!-- <value> -->
		  <!-- <li>WVC_GenePackTrader</li> -->
	  <!-- </value> -->
	<!-- </Operation> -->

	<Operation Class="PatchOperationReplace">
	  <xpath>/Defs/GeneDef[@Name="GeneVoiceBase"]/displayCategory</xpath>
	  <value>
		  <displayCategory>WVC_CosmeticVoices</displayCategory>
	  </value>
	</Operation>

	<Operation Class="PatchOperationAdd">
	  <xpath>/Defs/ThoughtDef[nullifyingGenes[li[contains(text(),'ToxResist_Total') or contains(text(),'ToxicEnvironmentResistance_Total') or contains(text(),'Mashed_Ashlands_AshResistance_Perfect')]]]/nullifyingGenes</xpath>
	  <value>
		  <li>WVC_ToxResist_Total</li>
		  <li>WVC_ToxResist_Archite</li>
	  </value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>/Defs/ThoughtDef[defName="Pain"]/nullifyingGenes</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
			  <xpath>/Defs/ThoughtDef[defName="Pain"]</xpath>
			  <success>Always</success>
			  <value>
				<nullifyingGenes/>
			  </value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
	  <xpath>/Defs/ThoughtDef[defName="Pain"]/nullifyingGenes</xpath>
	  <value>
		  <li>WVC_Scarifier_Pain</li>
	  </value>
	</Operation>

	<!-- <Operation Class="PatchOperationAdd"> -->
	  <!-- <xpath>/Defs/RulePackDef[defName="TalkTopicsUtility"]/rulePack/rulesStrings</xpath> -->
	  <!-- <value> -->
		  <!-- <displayCategory>WVC_CosmeticVoices</displayCategory> -->
	  <!-- </value> -->
	<!-- </Operation> -->

	<!-- <Operation Class="PatchOperationFindMod"> -->
		<!-- <mods> -->
			<!-- <li>Royalty</li> -->
		<!-- </mods> -->
		<!-- <nomatch Class="PatchOperationSequence"> -->
			<!-- <operations> -->
				<!-- <li Class="PatchOperationRemove"> -->
					<!-- <xpath>/Defs/GeneDef[defName="WVC_Nodization_DecisionBuff_G"]/geneClass</xpath> -->
					<!-- <success>Always</success> -->
				<!-- </li> -->
			<!-- </operations> -->
		<!-- </nomatch> -->
	<!-- </Operation> -->

	<!-- <Operation Class="PatchOperationFindMod"> -->
		<!-- <mods> -->
			<!-- <li>Vanilla Races Expanded - Android</li> -->
		<!-- </mods> -->
		<!-- <match Class="PatchOperationSequence"> -->
			<!-- <operations> -->
				<!-- <li Class="PatchOperationAdd"> -->
				  <!-- <xpath>/Defs/GeneDef[defName="VREA_SyntheticSkin"]/modExtensions</xpath> -->
				  <!-- <success>Invert</success> -->
				  <!-- <value> -->
						<!-- <li Class="WVC.GeneExtension_General"> -->
							<!-- <geneIsMechaskin>true</geneIsMechaskin> -->
						<!-- </li> -->
				  <!-- </value> -->
				<!-- </li> -->
				<!-- <li Class="PatchOperationAdd"> -->
				  <!-- <xpath>/Defs/GeneDef[defName="VREA_SyntheticSkin"]</xpath> -->
				  <!-- <success>Always</success> -->
				  <!-- <value> -->
					<!-- <modExtensions> -->
						<!-- <li Class="WVC.GeneExtension_General"> -->
							<!-- <geneIsMechaskin>true</geneIsMechaskin> -->
						<!-- </li> -->
					<!-- </modExtensions> -->
				  <!-- </value> -->
				<!-- </li> -->
			<!-- </operations> -->
		<!-- </match> -->
	<!-- </Operation> -->

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
			  <xpath>/Defs/ThingDef[@Name="AnimalThingBase"]/race/willNeverEat</xpath>
			  <success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
			  <xpath>/Defs/ThingDef[@Name="AnimalThingBase"]/race</xpath>
			  <success>Always</success>
			  <value>
				<willNeverEat/>
			  </value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
	  <xpath>/Defs/ThingDef[@Name="AnimalThingBase"]/race/willNeverEat</xpath>
	  <value>
		<!-- Plants -->
		<li MayRequire="Ludeon.RimWorld.Biotech">WVC_Plant_TreeXenoSpawner</li>
		<!-- <li MayRequire="Ludeon.RimWorld.Biotech">WVC_Plant_XenoBulb</li> -->
		<li MayRequire="Ludeon.RimWorld.Biotech">WVC_Plant_TreeResurgent</li>
		<li MayRequire="Ludeon.RimWorld.Biotech">WVC_Plant_TreeXenoSpawner</li>
		<!-- Edible Non-Food -->
		<!-- <li MayRequire="Ludeon.RimWorld.Biotech">WVC_MealDustPack</li> -->
		<!-- <li MayRequire="Ludeon.RimWorld.Biotech">WVC_MealDustogenicPaste</li> -->
		<li MayRequire="Ludeon.RimWorld.Biotech">WVC_NutrientsInjector</li>
		<li MayRequire="Ludeon.RimWorld.Biotech">WVC_UniversalFuel</li>
	  </value>
	</Operation>

	<!-- ============================================================ -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>WVC - Work Modes</li>
		</mods>
		<match Class="PatchOperationRemove">
			<xpath>/Defs/DesignationCategoryDef[defName="Biotech"]/researchPrerequisites</xpath>
			<success>Always</success>
		</match>
	</Operation>

	<!-- <Operation Class="PatchOperationFindMod"> -->
		<!-- <mods> -->
			<!-- <li>Beauty Matters</li> -->
		<!-- </mods> -->
		<!-- <match Class="PatchOperationSequence"> -->
			<!-- <operations> -->
				<!-- <li Class="PatchOperationReplace"> -->
					<!-- <xpath>/Defs/GeneDef[defName="WVC_MecaUpgrades_PerfectShape"]/statOffsets/PawnBeauty</xpath> -->
					<!-- <success>Always</success> -->
					<!-- <value> -->
						<!-- <PawnBeauty>2</PawnBeauty> -->
					<!-- </value> -->
				<!-- </li> -->
			<!-- </operations> -->
		<!-- </match> -->
	<!-- </Operation> -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Alpha Genes</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- <li Class="WVC_XenotypesAndGenes.PatchOperationOptional"> -->
					<!-- <settingName>validatorAbilitiesPatch</settingName> -->
					<!-- <caseTrue Class="PatchOperationAdd"> -->
					  <!-- <xpath>/Defs/ThingDef[defName="AG_GeneRemover" or defName="AG_Endogenefier" or defName="AG_Xenogenefier" or defName="AG_XenotypeNullifier" or defName="AG_XenotypeInjector" or defName="AG_GermlineMutator"]/comps</xpath> -->
					  <!-- <value> -->
						<!-- <li Class="WVC_XenotypesAndGenes.CompTargetable_HumanCanUseSerum"/> -->
					  <!-- </value> -->
					<!-- </caseTrue> -->
				<!-- </li> -->

				<li Class="PatchOperationReplace">
					<xpath>/Defs/GeneDef[@Name="WVC_NaturalArmorBase"]/displayCategory</xpath>
					<success>Always</success>
					<value>
						<displayCategory>AG_Armour</displayCategory>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/GeneDef[@Name="WVC_MonogenderBase"]/displayCategory</xpath>
					<success>Always</success>
					<value>
						<displayCategory>AG_Gender</displayCategory>
					</value>
				</li>
				<!-- <li Class="PatchOperationAdd"> -->
					<!-- <xpath>Defs/GeneDef[@ParentName="WVC_MonogenderBase"]/modExtensions/li[@Class="VanillaGenesExpanded.GeneExtension"]</xpath> -->
					<!-- <value> -->
						<!-- <hideGene>true</hideGene> -->
					<!-- </value> -->
				<!-- </li> -->
				<!-- <li Class="WVC_XenotypesAndGenes.PatchOperationOptional"> -->
					<!-- <settingName>mechanoidizationGenesPatch</settingName> -->
					<!-- <caseTrue Class="PatchOperationSequence"> -->
						<!-- <operations> -->
							<!-- <li Class="PatchOperationReplace"> -->
								<!-- <xpath>/Defs/GeneDef[defName="AG_Instability_Lethal"]/statFactors</xpath> -->
								<!-- <success>Always</success> -->
								<!-- <value> -->
									<!-- <conditionalStatAffecters> -->
									  <!-- <li Class="WVC.ConditionalStatAffecter_Mechalike"> -->
										<!-- <statOffsets> -->
										  <!-- <WVC_PawnMechanoidization>25</WVC_PawnMechanoidization> -->
										<!-- </statOffsets> -->
									  <!-- </li> -->
									  <!-- <li Class="WVC.ConditionalStatAffecter_Humanlike"> -->
										<!-- <statFactors> -->
											<!-- <CancerRate>7</CancerRate> -->
											<!-- <ImmunityGainSpeed>0.85</ImmunityGainSpeed> -->
										<!-- </statFactors> -->
									  <!-- </li> -->
									<!-- </conditionalStatAffecters> -->
								<!-- </value> -->
							<!-- </li> -->
						<!-- </operations> -->
					<!-- </caseTrue> -->
				<!-- </li> -->
			</operations>
		</match>
	</Operation>

	<!-- ============================================================ -->

	<!-- <Operation Class="PatchOperationSequence"> -->
	  <!-- <success>Always</success> -->
	  <!-- <operations> -->
		<!-- <li Class="PatchOperationReplace"> -->
		  <!-- <xpath>/Defs/GeneDef[defName="Furskin"]/displayCategory</xpath> -->
		  <!-- <success>Invert</success> -->
		  <!-- <value> -->
			<!-- <displayCategory>WVC_FurskinBody</displayCategory> -->
		  <!-- </value> -->
		<!-- </li> -->
		<!-- <li Class="PatchOperationAdd"> -->
		  <!-- <xpath>/Defs/MechWorkModeDef[defName="Work"]</xpath> -->
		  <!-- <success>Always</success> -->
		  <!-- <value> -->
			<!-- <uiOrder>100</uiOrder> -->
		  <!-- </value> -->
		<!-- </li> -->
	  <!-- </operations> -->
	<!-- </Operation> -->

	<!-- <Operation Class="PatchOperationReplace"> -->
		<!-- <xpath>Defs/GeneDef[defName="Furskin"]/displayCategory</xpath> -->
		<!-- <success>Always</success> -->
		<!-- <value> -->
			<!-- <displayCategory>WVC_FurskinBody</displayCategory> -->
		<!-- </value> -->
	<!-- </Operation> -->
	<!-- <Operation Class="PatchOperationReplace"> -->
		<!-- <xpath>Defs/GeneDef[defName="Furskin"]/displayOrderInCategory</xpath> -->
		<!-- <success>Always</success> -->
		<!-- <value> -->
			<!-- <displayOrderInCategory>-100</displayOrderInCategory> -->
		<!-- </value> -->
	<!-- </Operation> -->

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/StatDef[defName="MentalBreakThreshold" or defName="InjuryHealingFactor"]/minValue</xpath>
		<success>Always</success>
		<value>
			<minValue>0</minValue>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>/Defs/StatDef[defName="IncomingDamageFactor"]/minValue</xpath>
		<success>Always</success>
		<value>
			<minValue>0.02</minValue>
		</value>
	</Operation>

	<!-- <Operation Class="PatchOperationSequence"> -->
	  <!-- <success>Always</success> -->
	  <!-- <operations> -->
		<!-- <li Class="PatchOperationReplace"> -->
		  <!-- <xpath>/Defs/GeneDef[defName="Furskin"]/displayCategory</xpath> -->
		  <!-- <success>Invert</success> -->
		  <!-- <value> -->
			<!-- <displayCategory>WVC_FurskinBody</displayCategory> -->
		  <!-- </value> -->
		<!-- </li> -->
		<!-- <li Class="PatchOperationAdd"> -->
		  <!-- <xpath>/Defs/MechWorkModeDef[defName="Work"]</xpath> -->
		  <!-- <success>Always</success> -->
		  <!-- <value> -->
			<!-- <uiOrder>100</uiOrder> -->
		  <!-- </value> -->
		<!-- </li> -->
	  <!-- </operations> -->
	<!-- </Operation> -->

	<!-- <Operation Class="PatchOperationAdd"> -->
		<!-- <xpath>/Defs/GeneDef[description[contains(text(),'is increased by 20. Aptitude')]]</xpath> -->
		<!-- <value> -->
			<!-- <biostatArc>2</biostatArc> -->
		<!-- </value> -->
	<!-- </Operation> -->
	<!-- <Operation Class="PatchOperationAdd"> -->
		<!-- <xpath>/Defs/GeneDef[description[contains(text(),'is reduced by 20. Aptitude')]]</xpath> -->
		<!-- <value> -->
			<!-- <biostatArc>1</biostatArc> -->
		<!-- </value> -->
	<!-- </Operation> -->

	<!-- <Operation Class="PatchOperationSequence"> -->
	  <!-- <success>Always</success> -->
	  <!-- <operations> -->
		<!-- <li Class="PatchOperationReplace"> -->
		  <!-- <xpath>/Defs/ThoughtDef[defName="TranshumanistAppreciation"]/nullifyingGenes</xpath> -->
		  <!-- <success>Invert</success> -->
		  <!-- <value> -->
			  <!-- <li MayRequire="Ludeon.RimWorld.Biotech">WVC_MechaSkin</li> -->
		  <!-- </value> -->
		<!-- </li> -->
		<!-- <li Class="PatchOperationAdd"> -->
		  <!-- <xpath>/Defs/ThoughtDef[defName="TranshumanistAppreciation"]</xpath> -->
		  <!-- <success>Always</success> -->
		  <!-- <value> -->
			<!-- <nullifyingGenes> -->
			  <!-- <li MayRequire="Ludeon.RimWorld.Biotech">WVC_MechaSkin</li> -->
			<!-- </nullifyingGenes> -->
		  <!-- </value> -->
		<!-- </li> -->
	  <!-- </operations> -->
	<!-- </Operation> -->

</Patch>